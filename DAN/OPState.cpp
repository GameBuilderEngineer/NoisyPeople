//===================================================================================================================================
//ÅyOPState.cppÅz
// [çÏê¨é“]HALìåãûGP12A332 11 êõñÏ é˜
// [çÏê¨ì˙]2020/01/20
// [çXêVì˙]2020/01/20
//===================================================================================================================================

//===================================================================================================================================
//ÅyÉCÉìÉNÉãÅ[ÉhÅz
//===================================================================================================================================
#include "OPState.h"
#include "NormalState.h"

//===================================================================================================================================
//ÅyusingêÈåæÅz
//===================================================================================================================================
using namespace playerNS;
using namespace OPStateNS;

//===================================================================================================================================
//ÅyÉRÉìÉXÉgÉâÉNÉ^Åz
//===================================================================================================================================
OPState::OPState(Player* player) : AbstractState()
{
	//ã§í çÄñ⁄
	this->player	= player;
	stateTimer		= 0.0f;
	type			= OP;
	nextType		= NORMAL;
	stateName		= "OP_STATE";
	onTrans			= false;
	player->setValidOperation(
		ENABLE_CAMERA		//ÉJÉÅÉâÇÃÇ›ëÄçÏâ¬î\
	);
}

//===================================================================================================================================
//ÅyÉfÉXÉgÉâÉNÉ^Åz
//===================================================================================================================================
OPState::~OPState()
{

}

//===================================================================================================================================
//ÅyäJénèàóùÅz
//===================================================================================================================================
void OPState::start()
{

}

//===================================================================================================================================
//ÅyçXêVÅz
//===================================================================================================================================
void OPState::update(float frameTime)
{
	this->frameTime = frameTime;
	stateTimer += frameTime;
}

//===================================================================================================================================
//ÅyëÄçÏÅz
//===================================================================================================================================
void OPState::operation()
{
	// ëÄçÏ
}

//===================================================================================================================================
//Åyï®óùèàóùÅz
//===================================================================================================================================
void OPState::physics()
{
	player->physicalBehavior();			// ï®óùãììÆ
	player->grounding();				// ê⁄ínèàóù
	player->updatePhysics(frameTime);	// ï®óùÇÃçXêV
}

//===================================================================================================================================
//Åyï®óùèàóùÅz
//===================================================================================================================================
void OPState::controlCamera()
{
	//ÉJÉÅÉâëJà⁄
	player->transitionCamera();
	//ÉJÉÅÉâëÄçÏ
	player->controlCamera(frameTime);
}

//===================================================================================================================================
//ÅyèÛë‘ëJà⁄Åz
//===================================================================================================================================
AbstractState* OPState::transition()
{
	return new normalNS::NormalState(player);
}

//===================================================================================================================================
//ÅyèIóπèàóùÅz
//===================================================================================================================================
void OPState::end()
{

}

