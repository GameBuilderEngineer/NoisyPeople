//===================================================================================================================================
//【EnemyTools.h】
// [作成者]HAL東京GP12A332 16 蔡 友剛
// [作成日]2019/09/26
// [更新日]2019/09/26
//===================================================================================================================================
#pragma once

//===================================================================================================================================
//【ライブラリのロード】
//===================================================================================================================================
#include "Base.h"

//===================================================================================================================================
//【マクロ】
//===================================================================================================================================
#define CHUNK_ID	(4)

//===================================================================================================================================
//【定数定義】
//===================================================================================================================================
enum ENEMY_TYPE
{
	ENEMY_TYPE_SAI,
	ENEMY_TYPE_DATE,
	ENEMY_TYPE_MAX
};

//===================================================================================================================================
//【構造体】
//===================================================================================================================================
typedef struct	//ENMYチャンク
{
	char chunkId[CHUNK_ID];	//チャンクID
	long size;				//以後のサイズ(ファイルのサイズ - 8byte)
	long enemyMax;			//敵の数
}ENEMY_ENMY;

typedef struct	//EFMTチャンク
{
	char chunkId[CHUNK_ID];	//チャンクID
	long size;				//このチャンクのサイズ
	long type;				//敵の種類
	float posX;				//敵の生成位置(X)
	float posY;				//敵の生成位置(Y)
	float posZ;				//敵の生成位置(Z)
	float rotY;				//敵の回転Y軸
}ENEMY_EFMT;

typedef struct	//ENEMYファイル構造体
{
	ENEMY_ENMY enmy;	//ENMYチャンク	
	ENEMY_EFMT *efmt;	//EFMTチャンク
}ENEMY_FILE;

//===================================================================================================================================
//【エネミーツール】
//エネミーツール用クラス
//===================================================================================================================================
class ENEMY_TOOLS
{
public:
	ENEMY_TOOLS() {};
	~ENEMY_TOOLS() ;

	void SetEnemyType(int enemyId,int enemyType);
	void SetEnemyPos(int enemyId,const D3DXVECTOR3 pos);
	void SetEnemyRotY(int enemyId,float rotY);
	void AddEnemyFormat(void);

private:
	ENEMY_FILE		enemyFile;				//エネミー構造体 

	void OutputEnemyFile(void);				//エネミーファイルの書き出し処理
	ENEMY_FILE InputEnemyFile(void);		//エネミーファイルの読み込み処理

};